{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/tomaslopezsaavedra/Documents/React Native - Integrador/Repo-Integrador-DH-III/pantallas/screenImportarTarjetas.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport React, { Component } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { TextComponent } from \"react-native-web/dist/index\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { getData } from \"../src/api/usuarios\";\nimport { storeData } from \"./importarTarjetas\";\n\nvar ScreenImportarTarjetas = function (_Component) {\n  _inherits(ScreenImportarTarjetas, _Component);\n\n  var _super = _createSuper(ScreenImportarTarjetas);\n\n  function ScreenImportarTarjetas(props) {\n    var _this;\n\n    _classCallCheck(this, ScreenImportarTarjetas);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      items: [],\n      comentarios: \"\",\n      filtrados: []\n    };\n    return _this;\n  }\n\n  _createClass(ScreenImportarTarjetas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.traerUsuarios();\n    }\n  }, {\n    key: \"traerUsuarios\",\n    value: function traerUsuarios() {\n      var jsonUsers, usuariosImportados;\n      return _regeneratorRuntime.async(function traerUsuarios$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Usuarios\"));\n\n            case 3:\n              jsonUsers = _context.sent;\n              console.log(jsonUsers);\n              usuariosImportados = JSON.parse(jsonUsers);\n              this.setState({\n                items: usuariosImportados\n              });\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              alert(\"No pudimos cargar los usuarios\");\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[0, 9]], Promise);\n    }\n  }, {\n    key: \"refreshImportacion\",\n    value: function refreshImportacion() {\n      var _this2 = this;\n\n      AsyncStorage.getItem(\"Usuarios\").then(function (res) {\n        _this2.setState({\n          items: JSON.parse(res)\n        });\n      });\n    }\n  }, {\n    key: \"buscar\",\n    value: function buscar(buscado) {\n      if (buscado.length !== 0) {\n        var data = this.state.items.filter(function (respuesta) {\n          var itemData = respuesta.name.first.toUpperCase();\n          var lastNameData = respuesta.name.last.toUpperCase();\n          var ciudadData = respuesta.location.city.toUpperCase();\n          var paisData = respuesta.location.state.toUpperCase();\n          var buscadoData = buscado.toUpperCase();\n          return itemData.includes(buscadoData) || lastNameData.includes(buscadoData) || ciudadData.includes(buscadoData) || paisData.includes(buscadoData);\n        });\n        this.setState({\n          filtrados: data,\n          buscado: buscado\n        });\n      } else {\n        this.setState({\n          filtrados: [],\n          buscado: buscado\n        });\n      }\n    }\n  }, {\n    key: \"storageComentarios\",\n    value: function storageComentarios(value) {\n      var jsonValue;\n      return _regeneratorRuntime.async(function storageComentarios$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              _extends(value, {\n                comentarios: this.state.comentarios\n              });\n\n              jsonValue = JSON.stringify(this.state.items);\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Usuarios\", jsonValue));\n\n            case 5:\n              console.log(\"se guardo en comentario\");\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, [[0, 8]], Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var items = this.state.items;\n      var comentarios = this.state.comentarios;\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"Buscar\",\n        style: styles.nombre,\n        onChangeText: function onChangeText(buscado) {\n          return _this3.buscar(buscado);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.guardarItems,\n        onPress: function _callee() {\n          return _regeneratorRuntime.async(function _callee$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.next = 2;\n                  return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Usuarios\", JSON.stringify([])));\n\n                case 2:\n                  _context3.next = 4;\n                  return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Borrados\", JSON.stringify(_this3.state.items)));\n\n                case 4:\n                  _this3.setState({\n                    items: []\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          marginBottom: 40,\n          borderWidth: 1,\n          padding: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 27\n        }\n      }, \"Enviar a papelera todos\")), React.createElement(TouchableOpacity, {\n        style: styles.guardarItems,\n        onPress: function onPress() {\n          return _this3.refreshImportacion();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.guardarItems,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, \"Refrescar importacion\")), React.createElement(FlatList, {\n        style: styles.jose,\n        data: this.state.filtrados.length === 0 ? this.state.items : this.state.filtrados,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(View, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 38\n            }\n          }, React.createElement(View, {\n            style: styles.prueba,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }\n          }, React.createElement(Text, {\n            style: styles.claseUsuarios,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }\n          }, item.name.first, \" \", item.name.last), React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              alert(\"Calle y numero:\\n\" + item.location.street.name + item.location.street.number + \"\\n\" + \"\\nCiudad:\\n\" + item.location.city + \"\\n\\nPais:\\n \" + item.location.country + \"\\n\\nCodigo postal:\\n \" + item.location.postcode + \"\\n\\nFecha de registro:\\n \" + item.registered.date + \"\\n\\nTelefono:\\n \" + item.phone + \"\\n\\nEmail:\\n \" + item.email + \"\\n\\nFecha:\\n \" + item.dob.date + \"\\n\\nEdad:\\n \" + item.dob.age);\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }\n          }, React.createElement(Text, {\n            style: {\n              marginLeft: 10,\n              marginBottom: 30,\n              padding: 20,\n              paddingLeft: 35,\n              borderRadius: 15,\n              borderStyle: \"solid\",\n              borderWidth: 1,\n              color: \"white\"\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }\n          }, \"Ver m\\xE1s \")), React.createElement(TouchableOpacity, {\n            onPress: function _callee2() {\n              var nuevosUsuarios, borrados;\n              return _regeneratorRuntime.async(function _callee2$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      nuevosUsuarios = _this3.state.items.filter(function (usuario, idx) {\n                        return idx !== index;\n                      });\n                      _context4.t0 = JSON;\n                      _context4.next = 4;\n                      return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Borrados\"));\n\n                    case 4:\n                      _context4.t1 = _context4.sent;\n                      borrados = _context4.t0.parse.call(_context4.t0, _context4.t1);\n                      _context4.next = 8;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Usuarios\", JSON.stringify(nuevosUsuarios)));\n\n                    case 8:\n                      _context4.next = 10;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Borrados\", JSON.stringify([].concat(_toConsumableArray(borrados), [nuevosUsuarios]))));\n\n                    case 10:\n                      _this3.setState({\n                        items: nuevosUsuarios,\n                        filtrados: nuevosUsuarios\n                      });\n\n                    case 11:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }\n          }, React.createElement(Text, {\n            style: {\n              marginLeft: 10,\n              marginBottom: 30,\n              padding: 20,\n              paddingLeft: 35,\n              borderRadius: 15,\n              borderStyle: \"solid\",\n              borderWidth: 1,\n              color: \"white\"\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }\n          }, \"Eliminar tarjeta\")), React.createElement(Image, {\n            style: styles.imagen,\n            source: {\n              uri: item.picture.thumbnail\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }\n          }), React.createElement(Text, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }\n          }, \" \", comentarios), React.createElement(TextInput, {\n            placeholder: \"Comenta algo\",\n            style: styles.nombre,\n            onChangeText: function onChangeText(escrito) {\n              return _this3.setState({\n                comentarios: escrito\n              });\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }\n          }), React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return _this3.storageComentarios(item);\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 25\n            }\n          }, React.createElement(Text, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 31\n            }\n          }, \" Guardar comentario. \"))));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 5\n        }\n      }));\n    }\n  }]);\n\n  return ScreenImportarTarjetas;\n}(Component);\n\nexport { ScreenImportarTarjetas as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    marginTop: 70,\n    justifyContent: 'center',\n    alignItems: \"center\",\n    margin: 30,\n    backgroundColor: 'lightseagreen',\n    borderRadius: 15,\n    paddingTop: 50,\n    paddingBottom: 50\n  },\n  nombre: {\n    margin: 40,\n    justifyContent: 'center',\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    width: 150,\n    height: 50\n  },\n  claseUsuarios: {\n    paddingTop: 35,\n    paddingLeft: 30,\n    width: 150,\n    height: 100,\n    backgroundColor: 'lightseagreen',\n    display: \"flex\",\n    width: \"100%\",\n    margin: 5,\n    color: \"white\",\n    justifyContent: 'center',\n    alignItems: \"center\",\n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 15\n  },\n  imagen: {\n    width: 125,\n    height: 100,\n    borderRadius: 100 / 2,\n    marginLeft: 10\n  },\n  prueba: {\n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 60,\n    padding: 60\n  }\n});","map":{"version":3,"sources":["/Users/tomaslopezsaavedra/Documents/React Native - Integrador/Repo-Integrador-DH-III/pantallas/screenImportarTarjetas.js"],"names":["AsyncStorage","React","Component","TextComponent","getData","storeData","ScreenImportarTarjetas","props","state","items","comentarios","filtrados","traerUsuarios","getItem","jsonUsers","console","log","usuariosImportados","JSON","parse","setState","alert","then","res","buscado","length","data","filter","respuesta","itemData","name","first","toUpperCase","lastNameData","last","ciudadData","location","city","paisData","buscadoData","includes","value","jsonValue","stringify","setItem","styles","container","nombre","buscar","guardarItems","marginBottom","borderWidth","padding","refreshImportacion","jose","item","index","prueba","claseUsuarios","street","number","country","postcode","registered","date","phone","email","dob","age","marginLeft","paddingLeft","borderRadius","borderStyle","color","nuevosUsuarios","usuario","idx","borrados","imagen","uri","picture","thumbnail","escrito","storageComentarios","StyleSheet","create","flex","display","marginTop","justifyContent","alignItems","margin","backgroundColor","paddingTop","paddingBottom","width","height"],"mappings":"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","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport React, { Component } from 'react';\nimport { FlatList, StyleSheet, Text, View, ImageBackground, TouchableOpacity, TextComponent, TextInput, Image, Alert} from 'react-native';\nimport {getData} from '../src/api/usuarios'\nimport { storeData} from './importarTarjetas';\n\nexport default class ScreenImportarTarjetas extends Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n          items: [],\n          comentarios:\"\",\n          filtrados: []\n         \n          \n          \n        }\n      }\n      componentDidMount() {\n        this.traerUsuarios()\n\n      \n      }\n\n      async traerUsuarios() {\n        try {\n          const jsonUsers = await AsyncStorage.getItem(\"Usuarios\");\n          console.log(jsonUsers)\n          const usuariosImportados = JSON.parse(jsonUsers);\n          this.setState({items: usuariosImportados})\n\n        }\n        catch(e){\n          alert(\"No pudimos cargar los usuarios\");\n\n        }\n      }\n\n      refreshImportacion() {\n        AsyncStorage.getItem(\"Usuarios\")\n            .then(res => {\n                this.setState({items: JSON.parse(res)})\n            })\n    }\n  \n\n\n      \n// BUSCADOR\nbuscar(buscado) {\n\n  if(buscado.length !==0) {\n    const data = this.state.items.filter(respuesta => {\n      const itemData = respuesta.name.first.toUpperCase(); \n      const lastNameData = respuesta.name.last.toUpperCase();\n      const ciudadData = respuesta.location.city.toUpperCase() \n      const paisData = respuesta.location.state.toUpperCase() \n      const buscadoData = buscado.toUpperCase();\n      return itemData.includes(buscadoData) || lastNameData.includes(buscadoData) || ciudadData.includes(buscadoData) || paisData.includes(buscadoData)\n\n    });\n      this.setState({\n        filtrados: data,\n        buscado: buscado\n      })\n\n  }\n  else {\n    this.setState({\n      filtrados:[],\n      // this.state.items,\n      buscado: buscado\n\n    })\n   \n  }\n}\n   \n\n  // TERMINA BUSCADOR\n\n\n  // COMENTARIOS\n\nasync storageComentarios (value) {\n  try{\n      Object.assign(value, { comentarios: this.state.comentarios} );\n      const jsonValue = JSON.stringify(this.state.items)\n      await AsyncStorage.setItem(\"Usuarios\", jsonValue)\n      console.log(\"se guardo en comentario\")\n\n\n\n\n  }\n  catch(error){\n    console.log(error);\n\n  }\n\n\n}\n\n\n\n\n\n\n\n  // TERMINA COMENTARIOS\n\n\n\n    render(){\n      var {items} = this.state\n      var comentarios = this.state.comentarios\n     \n      \n\n        return(\n          <View style={styles.container}>\n            \n            <TextInput  placeholder=\"Buscar\"  style={styles.nombre}  onChangeText={(buscado) => this.buscar(buscado) }  />  \n\n                  \n\n                <TouchableOpacity style={styles.guardarItems} onPress={ async () => {\n                  await AsyncStorage.setItem(\"Usuarios\", JSON.stringify([]))\n                  await AsyncStorage.setItem(\"Borrados\", JSON.stringify(this.state.items))\n                  this.setState({items:[]})\n                }} >\n                          <Text style={{marginBottom: 40, borderWidth: 1, padding: 10,}} >Enviar a papelera todos</Text>\n                </TouchableOpacity>\n                <TouchableOpacity style={styles.guardarItems} onPress={ () => this.refreshImportacion()} >\n                    <Text style={styles.guardarItems}>Refrescar importacion</Text>\n                </TouchableOpacity>\n                \n\n\n    <FlatList style={styles.jose}\n      data={this.state.filtrados.length === 0 ? this.state.items : this.state.filtrados}\n      \n      renderItem={({item, index}) => <View\n\n\n      >\n\n              <View style={styles.prueba}>\n              <Text style={styles.claseUsuarios}>{item.name.first} {item.name.last}</Text>\n              <TouchableOpacity\n              \n              \n              onPress={() => {alert(\n                \"Calle y numero:\\n\" +\n        \n              item.location.street.name+ item.location.street.number + \"\\n\"\n                + \"\\nCiudad:\\n\" + item.location.city\n                + \"\\n\\nPais:\\n \" + item.location.country\n        \n        \n                + \"\\n\\nCodigo postal:\\n \" + item.location.postcode\n        \n                + \"\\n\\nFecha de registro:\\n \" + item.registered.date\n                + \"\\n\\nTelefono:\\n \" + item.phone\n                + \"\\n\\nEmail:\\n \" + item.email\n                \n                + \"\\n\\nFecha:\\n \" + item.dob.date\n                + \"\\n\\nEdad:\\n \" + item.dob.age\n        \n        \n              )}}\n        \n              >\n              <Text style={{marginLeft: 10, marginBottom: 30, padding: 20, paddingLeft: 35, borderRadius: 15,  borderStyle: \"solid\", borderWidth: 1, color: \"white\"}}>Ver más </Text>\n\n              </TouchableOpacity>\n\n                <TouchableOpacity onPress={async () => {\n\n                  const nuevosUsuarios = this.state.items.filter((usuario, idx) => idx !== index);\n                  // console.log(nuevosUsuarios)\n                  const borrados = JSON.parse(await AsyncStorage.getItem(\"Borrados\"))\n\n                  await AsyncStorage.setItem(\"Usuarios\", JSON.stringify(nuevosUsuarios))\n                  await AsyncStorage.setItem(\"Borrados\", JSON.stringify([...borrados, nuevosUsuarios]))\n\n                  this.setState({items: nuevosUsuarios, filtrados: nuevosUsuarios})\n\n                }}>\n              <Text style={{marginLeft: 10,  marginBottom: 30, padding: 20, paddingLeft: 35, borderRadius: 15,  borderStyle: \"solid\", borderWidth: 1, color: \"white\"}}>Eliminar tarjeta</Text>\n\n                </TouchableOpacity>\n\n              <Image  style={styles.imagen} source={{uri:item.picture.thumbnail}} ></Image>\n              <Text> {comentarios}</Text>\n              \n              {/* COMENTARIOS */}\n              <TextInput    placeholder=\"Comenta algo\"   style={styles.nombre}    onChangeText={escrito=> this.setState({comentarios : escrito})}   /> \n\n\n                        <TouchableOpacity onPress= {()=> this.storageComentarios(item)}>\n                              <Text> Guardar comentario. </Text>\n                         </TouchableOpacity>\n                         {/* TERMINAN COMENTARIOS */}\n              </View>\n        \n        </View>}\n    />\n\n      \n\n          </View>\n\n\n\n\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    marginTop: 70,\n    justifyContent: 'center',\n    alignItems: \"center\",\n    margin: 30,\n    backgroundColor: 'lightseagreen',\n    borderRadius: 15, \n    paddingTop: 50, \n    paddingBottom: 50, \n\n  },\n  nombre: {\n    margin:40,\n    justifyContent: 'center',\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    width:150,\n    height:50,\n  },\n  claseUsuarios: {\n    paddingTop: 35,\n    paddingLeft: 30,\n    \n    width:150,\n    height:100,\n    backgroundColor: 'lightseagreen',\n    display: \"flex\",\n    width: \"100%\",\n    margin: 5,\n  \n    color: \"white\",\n    justifyContent: 'center',\n    alignItems: \"center\",\n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 15,\n    \n    \n  },\n  imagen: { \n    width: 125,\n    height: 100,\n    borderRadius: 100 / 2,\n    marginLeft: 10,\n    \n\n\n  },\n  prueba: { \n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 60,\n    padding: 60,\n\n\n  },\n\n\n});"]},"metadata":{},"sourceType":"module"}