{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/tomaslopezsaavedra/Documents/React Native - Integrador/Repo-Integrador-DH-III/pantallas/screenImportarTarjetas.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, { Component } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { TextComponent } from \"react-native-web/dist/index\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { getData } from \"../src/api/usuarios\";\nimport { storeData } from \"./importarTarjetas\";\n\nvar ScreenImportarTarjetas = function (_Component) {\n  _inherits(ScreenImportarTarjetas, _Component);\n\n  var _super = _createSuper(ScreenImportarTarjetas);\n\n  function ScreenImportarTarjetas(props) {\n    var _this;\n\n    _classCallCheck(this, ScreenImportarTarjetas);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      items: [],\n      comentarios: \"\",\n      filtrados: []\n    };\n    return _this;\n  }\n\n  _createClass(ScreenImportarTarjetas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.traerUsuarios();\n    }\n  }, {\n    key: \"traerUsuarios\",\n    value: function traerUsuarios() {\n      var jsonUsers, usuariosImportados;\n      return _regeneratorRuntime.async(function traerUsuarios$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Usuarios\"));\n\n            case 3:\n              jsonUsers = _context.sent;\n              console.log(jsonUsers);\n              usuariosImportados = JSON.parse(jsonUsers);\n              this.setState({\n                items: usuariosImportados\n              });\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              alert(\"No pudimos cargar los usuarios\");\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[0, 9]], Promise);\n    }\n  }, {\n    key: \"refreshImportacion\",\n    value: function refreshImportacion() {\n      var _this2 = this;\n\n      AsyncStorage.getItem(\"Usuarios\").then(function (res) {\n        _this2.setState({\n          items: JSON.parse(res)\n        });\n      });\n    }\n  }, {\n    key: \"buscar\",\n    value: function buscar(buscado) {\n      if (buscado.length !== 0) {\n        var data = this.state.items.filter(function (respuesta) {\n          var itemData = respuesta.name.first.toUpperCase();\n          var lastNameData = respuesta.name.last.toUpperCase();\n          var ciudadData = respuesta.location.city.toUpperCase();\n          var paisData = respuesta.location.state.toUpperCase();\n          var buscadoData = buscado.toUpperCase();\n          return itemData.includes(buscadoData) || lastNameData.includes(buscadoData) || ciudadData.includes(buscadoData) || paisData.includes(buscadoData);\n        });\n        this.setState({\n          filtrados: data,\n          buscado: buscado\n        });\n      } else {\n        this.setState({\n          filtrados: [],\n          buscado: buscado\n        });\n      }\n    }\n  }, {\n    key: \"storageComentarios\",\n    value: function storageComentarios(value) {\n      var jsonValue;\n      return _regeneratorRuntime.async(function storageComentarios$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              _extends(value, {\n                comentarios: this.state.comentarios\n              });\n\n              jsonValue = JSON.stringify(this.state.items);\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Usuarios\", jsonValue));\n\n            case 5:\n              console.log(\"se guardo en comentario\");\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, [[0, 8]], Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var items = this.state.items;\n      var comentarios = this.state.comentarios;\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"Buscar\",\n        style: styles.nombre,\n        onChangeText: function onChangeText(buscado) {\n          return _this3.buscar(buscado);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.guardarItems,\n        onPress: function _callee() {\n          return _regeneratorRuntime.async(function _callee$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.next = 2;\n                  return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Usuarios\", JSON.stringify([])));\n\n                case 2:\n                  _context3.next = 4;\n                  return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Borrados\", JSON.stringify(_this3.state.items)));\n\n                case 4:\n                  _this3.setState({\n                    items: []\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: {\n          marginBottom: 40,\n          borderWidth: 1,\n          padding: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }, \"Enviar a papelera todos\")), React.createElement(TouchableOpacity, {\n        style: styles.guardarItems,\n        onPress: function onPress() {\n          return _this3.refreshImportacion();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.guardarItems,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, \"Refrescar importacion\")), React.createElement(FlatList, {\n        style: styles.jose,\n        data: this.state.filtrados.length === 0 ? this.state.items : this.state.filtrados,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(View, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 13\n            }\n          }, React.createElement(View, {\n            style: styles.prueba,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }\n          }, React.createElement(Text, {\n            style: styles.claseUsuarios,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }\n          }, item.name.first, \" \", item.name.last), React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              alert(\"Calle y numero:\\n\" + item.location.street.name + item.location.street.number + \"\\n\" + \"\\nCiudad:\\n\" + item.location.city + \"\\n\\nPais:\\n \" + item.location.country + \"\\n\\nCodigo postal:\\n \" + item.location.postcode + \"\\n\\nFecha de registro:\\n \" + item.registered.date + \"\\n\\nTelefono:\\n \" + item.phone + \"\\n\\nEmail:\\n \" + item.email + \"\\n\\nFecha:\\n \" + item.dob.date + \"\\n\\nEdad:\\n \" + item.dob.age);\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }\n          }, React.createElement(Text, {\n            style: {\n              marginLeft: 10,\n              marginBottom: 30,\n              padding: 20,\n              paddingLeft: 35,\n              borderRadius: 15,\n              borderStyle: \"solid\",\n              borderWidth: 1,\n              color: \"white\"\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }\n          }, \"Ver m\\xE1s\", \" \")), React.createElement(TouchableOpacity, {\n            onPress: function _callee2() {\n              var nuevosUsuarios, borrados;\n              return _regeneratorRuntime.async(function _callee2$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      nuevosUsuarios = _this3.state.items.filter(function (usuario, idx) {\n                        return idx !== index;\n                      });\n                      _context4.t0 = JSON;\n                      _context4.next = 4;\n                      return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Borrados\"));\n\n                    case 4:\n                      _context4.t1 = _context4.sent;\n                      borrados = _context4.t0.parse.call(_context4.t0, _context4.t1);\n                      _context4.next = 8;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Usuarios\", JSON.stringify(nuevosUsuarios)));\n\n                    case 8:\n                      _context4.next = 10;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Borrados\", JSON.stringify([].concat(_toConsumableArray(borrados), [item]))));\n\n                    case 10:\n                      _this3.setState({\n                        items: nuevosUsuarios,\n                        filtrados: nuevosUsuarios\n                      });\n\n                    case 11:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }\n          }, React.createElement(Text, {\n            style: {\n              marginLeft: 10,\n              marginBottom: 30,\n              padding: 20,\n              paddingLeft: 35,\n              borderRadius: 15,\n              borderStyle: \"solid\",\n              borderWidth: 1,\n              color: \"white\"\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }\n          }, \"Eliminar tarjeta\")), React.createElement(Image, {\n            style: styles.imagen,\n            source: {\n              uri: item.picture.thumbnail\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }\n          }), React.createElement(Text, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }\n          }, \" \", comentarios), React.createElement(TextInput, {\n            placeholder: \"Comenta algo\",\n            style: styles.nombre,\n            onChangeText: function onChangeText(escrito) {\n              return _this3.setState({\n                comentarios: escrito\n              });\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }\n          }), React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return _this3.storageComentarios(item);\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }\n          }, React.createElement(Text, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }\n          }, \" Guardar comentario. \"))));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return ScreenImportarTarjetas;\n}(Component);\n\nexport { ScreenImportarTarjetas as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    marginTop: 70,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    margin: 30,\n    backgroundColor: \"lightseagreen\",\n    borderRadius: 15,\n    paddingTop: 50,\n    paddingBottom: 50\n  },\n  nombre: {\n    margin: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    width: 150,\n    height: 50\n  },\n  claseUsuarios: {\n    paddingTop: 35,\n    paddingLeft: 30,\n    width: 150,\n    height: 100,\n    backgroundColor: \"lightseagreen\",\n    display: \"flex\",\n    width: \"100%\",\n    margin: 5,\n    color: \"white\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 15\n  },\n  imagen: {\n    width: 125,\n    height: 100,\n    borderRadius: 100 / 2,\n    marginLeft: 10\n  },\n  prueba: {\n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 60,\n    padding: 60\n  }\n});","map":{"version":3,"sources":["/Users/tomaslopezsaavedra/Documents/React Native - Integrador/Repo-Integrador-DH-III/pantallas/screenImportarTarjetas.js"],"names":["AsyncStorage","React","Component","TextComponent","getData","storeData","ScreenImportarTarjetas","props","state","items","comentarios","filtrados","traerUsuarios","getItem","jsonUsers","console","log","usuariosImportados","JSON","parse","setState","alert","then","res","buscado","length","data","filter","respuesta","itemData","name","first","toUpperCase","lastNameData","last","ciudadData","location","city","paisData","buscadoData","includes","value","jsonValue","stringify","setItem","styles","container","nombre","buscar","guardarItems","marginBottom","borderWidth","padding","refreshImportacion","jose","item","index","prueba","claseUsuarios","street","number","country","postcode","registered","date","phone","email","dob","age","marginLeft","paddingLeft","borderRadius","borderStyle","color","nuevosUsuarios","usuario","idx","borrados","imagen","uri","picture","thumbnail","escrito","storageComentarios","StyleSheet","create","flex","display","marginTop","justifyContent","alignItems","margin","backgroundColor","paddingTop","paddingBottom","width","height"],"mappings":"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","sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, { Component } from \"react\";\nimport {\n  FlatList,\n  StyleSheet,\n  Text,\n  View,\n  ImageBackground,\n  TouchableOpacity,\n  TextComponent,\n  TextInput,\n  Image,\n  Alert,\n} from \"react-native\";\nimport { getData } from \"../src/api/usuarios\";\nimport { storeData } from \"./importarTarjetas\";\n\nexport default class ScreenImportarTarjetas extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      items: [],\n      comentarios: \"\",\n      filtrados: [],\n    };\n  }\n  componentDidMount() {\n    this.traerUsuarios();\n  }\n\n  async traerUsuarios() {\n    try {\n      const jsonUsers = await AsyncStorage.getItem(\"Usuarios\");\n      console.log(jsonUsers);\n      const usuariosImportados = JSON.parse(jsonUsers);\n      this.setState({ items: usuariosImportados });\n    } catch (e) {\n      alert(\"No pudimos cargar los usuarios\");\n    }\n  }\n\n  refreshImportacion() {\n    AsyncStorage.getItem(\"Usuarios\").then((res) => {\n      this.setState({ items: JSON.parse(res) });\n    });\n  }\n\n  // BUSCADOR\n  buscar(buscado) {\n    if (buscado.length !== 0) {\n      const data = this.state.items.filter((respuesta) => {\n        const itemData = respuesta.name.first.toUpperCase();\n        const lastNameData = respuesta.name.last.toUpperCase();\n        const ciudadData = respuesta.location.city.toUpperCase();\n        const paisData = respuesta.location.state.toUpperCase();\n        const buscadoData = buscado.toUpperCase();\n        return (\n          itemData.includes(buscadoData) ||\n          lastNameData.includes(buscadoData) ||\n          ciudadData.includes(buscadoData) ||\n          paisData.includes(buscadoData)\n        );\n      });\n      this.setState({\n        filtrados: data,\n        buscado: buscado,\n      });\n    } else {\n      this.setState({\n        filtrados: [],\n        // this.state.items,\n        buscado: buscado,\n      });\n    }\n  }\n\n  // TERMINA BUSCADOR\n\n  // COMENTARIOS\n\n  async storageComentarios(value) {\n    try {\n      Object.assign(value, { comentarios: this.state.comentarios });\n      const jsonValue = JSON.stringify(this.state.items);\n      await AsyncStorage.setItem(\"Usuarios\", jsonValue);\n      console.log(\"se guardo en comentario\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // TERMINA COMENTARIOS\n\n  render() {\n    var { items } = this.state;\n    var comentarios = this.state.comentarios;\n\n    return (\n      <View style={styles.container}>\n        <TextInput\n          placeholder=\"Buscar\"\n          style={styles.nombre}\n          onChangeText={(buscado) => this.buscar(buscado)}\n        />\n\n        <TouchableOpacity\n          style={styles.guardarItems}\n          onPress={async () => {\n            await AsyncStorage.setItem(\"Usuarios\", JSON.stringify([]));\n            await AsyncStorage.setItem(\n              \"Borrados\",\n              JSON.stringify(this.state.items)\n            );\n            this.setState({ items: [] });\n          }}\n        >\n          <Text style={{ marginBottom: 40, borderWidth: 1, padding: 10 }}>\n            Enviar a papelera todos\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.guardarItems}\n          onPress={() => this.refreshImportacion()}\n        >\n          <Text style={styles.guardarItems}>Refrescar importacion</Text>\n        </TouchableOpacity>\n\n        <FlatList\n          style={styles.jose}\n          data={\n            this.state.filtrados.length === 0\n              ? this.state.items\n              : this.state.filtrados\n          }\n          renderItem={({ item, index }) => (\n            <View>\n              <View style={styles.prueba}>\n                <Text style={styles.claseUsuarios}>\n                  {item.name.first} {item.name.last}\n                </Text>\n                <TouchableOpacity\n                  onPress={() => {\n                    alert(\n                      \"Calle y numero:\\n\" +\n                        item.location.street.name +\n                        item.location.street.number +\n                        \"\\n\" +\n                        \"\\nCiudad:\\n\" +\n                        item.location.city +\n                        \"\\n\\nPais:\\n \" +\n                        item.location.country +\n                        \"\\n\\nCodigo postal:\\n \" +\n                        item.location.postcode +\n                        \"\\n\\nFecha de registro:\\n \" +\n                        item.registered.date +\n                        \"\\n\\nTelefono:\\n \" +\n                        item.phone +\n                        \"\\n\\nEmail:\\n \" +\n                        item.email +\n                        \"\\n\\nFecha:\\n \" +\n                        item.dob.date +\n                        \"\\n\\nEdad:\\n \" +\n                        item.dob.age\n                    );\n                  }}\n                >\n                  <Text\n                    style={{\n                      marginLeft: 10,\n                      marginBottom: 30,\n                      padding: 20,\n                      paddingLeft: 35,\n                      borderRadius: 15,\n                      borderStyle: \"solid\",\n                      borderWidth: 1,\n                      color: \"white\",\n                    }}\n                  >\n                    Ver m√°s{\" \"}\n                  </Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity\n                  onPress={async () => {\n                    const nuevosUsuarios = this.state.items.filter(\n                      (usuario, idx) => idx !== index\n                    );\n                    // console.log(nuevosUsuarios)\n                    const borrados = JSON.parse(\n                      await AsyncStorage.getItem(\"Borrados\")\n                    );\n\n                    await AsyncStorage.setItem(\n                      \"Usuarios\",\n                      JSON.stringify(nuevosUsuarios)\n                    );\n                    await AsyncStorage.setItem(\n                      \"Borrados\",\n                      JSON.stringify([...borrados, item])\n                    );\n\n                    this.setState({\n                      items: nuevosUsuarios,\n                      filtrados: nuevosUsuarios,\n                    });\n                  }}\n                >\n                  <Text\n                    style={{\n                      marginLeft: 10,\n                      marginBottom: 30,\n                      padding: 20,\n                      paddingLeft: 35,\n                      borderRadius: 15,\n                      borderStyle: \"solid\",\n                      borderWidth: 1,\n                      color: \"white\",\n                    }}\n                  >\n                    Eliminar tarjeta\n                  </Text>\n                </TouchableOpacity>\n\n                <Image\n                  style={styles.imagen}\n                  source={{ uri: item.picture.thumbnail }}\n                ></Image>\n                <Text> {comentarios}</Text>\n\n                {/* COMENTARIOS */}\n                <TextInput\n                  placeholder=\"Comenta algo\"\n                  style={styles.nombre}\n                  onChangeText={(escrito) =>\n                    this.setState({ comentarios: escrito })\n                  }\n                />\n\n                <TouchableOpacity onPress={() => this.storageComentarios(item)}>\n                  <Text> Guardar comentario. </Text>\n                </TouchableOpacity>\n                {/* TERMINAN COMENTARIOS */}\n              </View>\n            </View>\n          )}\n        />\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    marginTop: 70,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    margin: 30,\n    backgroundColor: \"lightseagreen\",\n    borderRadius: 15,\n    paddingTop: 50,\n    paddingBottom: 50,\n  },\n  nombre: {\n    margin: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    width: 150,\n    height: 50,\n  },\n  claseUsuarios: {\n    paddingTop: 35,\n    paddingLeft: 30,\n\n    width: 150,\n    height: 100,\n    backgroundColor: \"lightseagreen\",\n    display: \"flex\",\n    width: \"100%\",\n    margin: 5,\n\n    color: \"white\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 15,\n  },\n  imagen: {\n    width: 125,\n    height: 100,\n    borderRadius: 100 / 2,\n    marginLeft: 10,\n  },\n  prueba: {\n    borderRadius: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 60,\n    padding: 60,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}